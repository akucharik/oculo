!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Oculo=t()}}(function(){return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return r(n?n:t)},l,l.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){var i={EventEmitter:t("./lib/BaseEventEmitter"),EmitterSubscription:t("./lib/EmitterSubscription")};e.exports=i},{"./lib/BaseEventEmitter":2,"./lib/EmitterSubscription":3}],2:[function(t,e,n){(function(n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=t("./EmitterSubscription"),o=t("./EventSubscriptionVendor"),a=t("fbjs/lib/emptyFunction"),s=t("fbjs/lib/invariant"),u=function(){function t(){i(this,t),this._subscriber=new o,this._currentSubscription=null}return t.prototype.addListener=function(t,e,n){return this._subscriber.addSubscription(t,new r(this._subscriber,e,n))},t.prototype.once=function(t,e,n){var i=this;return this.addListener(t,function(){i.removeCurrentListener(),e.apply(n,arguments)})},t.prototype.removeAllListeners=function(t){this._subscriber.removeAllSubscriptions(t)},t.prototype.removeCurrentListener=function(){this._currentSubscription?void 0:"production"!==n.env.NODE_ENV?s(!1,"Not in an emitting cycle; there is no current subscription"):s(!1),this._subscriber.removeSubscription(this._currentSubscription)},t.prototype.listeners=function(t){var e=this._subscriber.getSubscriptionsForType(t);return e?e.filter(a.thatReturnsTrue).map(function(t){return t.listener}):[]},t.prototype.emit=function(t){var e=this._subscriber.getSubscriptionsForType(t);if(e){for(var n=Object.keys(e),i=0;i<n.length;i++){var r=n[i],o=e[r];o&&(this._currentSubscription=o,this.__emitToSubscription.apply(this,[o].concat(Array.prototype.slice.call(arguments))))}this._currentSubscription=null}},t.prototype.__emitToSubscription=function(t,e){var n=Array.prototype.slice.call(arguments,2);t.listener.apply(t.context,n)},t}();e.exports=u}).call(this,t("_process"))},{"./EmitterSubscription":3,"./EventSubscriptionVendor":5,_process:97,"fbjs/lib/emptyFunction":6,"fbjs/lib/invariant":7}],3:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=t("./EventSubscription"),a=function(t){function e(n,r,o){i(this,e),t.call(this,n),this.listener=r,this.context=o}return r(e,t),e}(o);e.exports=a},{"./EventSubscription":4}],4:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(e){i(this,t),this.subscriber=e}return t.prototype.remove=function(){this.subscriber&&(this.subscriber.removeSubscription(this),this.subscriber=null)},t}();e.exports=r},{}],5:[function(t,e,n){(function(n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=t("fbjs/lib/invariant"),o=function(){function t(){i(this,t),this._subscriptionsForType={},this._currentSubscription=null}return t.prototype.addSubscription=function(t,e){e.subscriber!==this?"production"!==n.env.NODE_ENV?r(!1,"The subscriber of the subscription is incorrectly set."):r(!1):void 0,this._subscriptionsForType[t]||(this._subscriptionsForType[t]=[]);var i=this._subscriptionsForType[t].length;return this._subscriptionsForType[t].push(e),e.eventType=t,e.key=i,e},t.prototype.removeAllSubscriptions=function(t){void 0===t?this._subscriptionsForType={}:delete this._subscriptionsForType[t]},t.prototype.removeSubscription=function(t){var e=t.eventType,n=t.key,i=this._subscriptionsForType[e];i&&delete i[n]},t.prototype.getSubscriptionsForType=function(t){return this._subscriptionsForType[t]},t}();e.exports=o}).call(this,t("_process"))},{_process:97,"fbjs/lib/invariant":7}],6:[function(t,e,n){"use strict";function i(t){return function(){return t}}var r=function(){};r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},e.exports=r},{}],7:[function(t,e,n){"use strict";function i(t,e,n,i,o,a,s,u){if(r(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,o,a,s,u],h=0;c=new Error(e.replace(/%s/g,function(){return l[h++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var r=function(t){};e.exports=i},{}],8:[function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}var r=t("./_hashClear"),o=t("./_hashDelete"),a=t("./_hashGet"),s=t("./_hashHas"),u=t("./_hashSet");i.prototype.clear=r,i.prototype.delete=o,i.prototype.get=a,i.prototype.has=s,i.prototype.set=u,e.exports=i},{"./_hashClear":42,"./_hashDelete":43,"./_hashGet":44,"./_hashHas":45,"./_hashSet":46}],9:[function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}var r=t("./_listCacheClear"),o=t("./_listCacheDelete"),a=t("./_listCacheGet"),s=t("./_listCacheHas"),u=t("./_listCacheSet");i.prototype.clear=r,i.prototype.delete=o,i.prototype.get=a,i.prototype.has=s,i.prototype.set=u,e.exports=i},{"./_listCacheClear":52,"./_listCacheDelete":53,"./_listCacheGet":54,"./_listCacheHas":55,"./_listCacheSet":56}],10:[function(t,e,n){var i=t("./_getNative"),r=t("./_root"),o=i(r,"Map");e.exports=o},{"./_getNative":37,"./_root":67}],11:[function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}var r=t("./_mapCacheClear"),o=t("./_mapCacheDelete"),a=t("./_mapCacheGet"),s=t("./_mapCacheHas"),u=t("./_mapCacheSet");i.prototype.clear=r,i.prototype.delete=o,i.prototype.get=a,i.prototype.has=s,i.prototype.set=u,e.exports=i},{"./_mapCacheClear":57,"./_mapCacheDelete":58,"./_mapCacheGet":59,"./_mapCacheHas":60,"./_mapCacheSet":61}],12:[function(t,e,n){var i=t("./_root"),r=i.Symbol;e.exports=r},{"./_root":67}],13:[function(t,e,n){function i(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}e.exports=i},{}],14:[function(t,e,n){function i(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}e.exports=i},{}],15:[function(t,e,n){function i(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}e.exports=i},{}],16:[function(t,e,n){function i(t,e,n){var i=t[e];s.call(t,e)&&o(i,n)&&(void 0!==n||e in t)||r(t,e,n)}var r=t("./_baseAssignValue"),o=t("./eq"),a=Object.prototype,s=a.hasOwnProperty;e.exports=i},{"./_baseAssignValue":18,"./eq":76}],17:[function(t,e,n){function i(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}var r=t("./eq");e.exports=i},{"./eq":76}],18:[function(t,e,n){function i(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var r=t("./_defineProperty");e.exports=i},{"./_defineProperty":33}],19:[function(t,e,n){function i(t,e,n){return t===t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}e.exports=i},{}],20:[function(t,e,n){function i(t,e,n,a,s){var u=-1,c=t.length;for(n||(n=o),s||(s=[]);++u<c;){var l=t[u];e>0&&n(l)?e>1?i(l,e-1,n,a,s):r(s,l):a||(s[s.length]=l)}return s}var r=t("./_arrayPush"),o=t("./_isFlattenable");e.exports=i},{"./_arrayPush":15,"./_isFlattenable":47}],21:[function(t,e,n){function i(t,e){e=r(e,t);for(var n=0,i=e.length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}var r=t("./_castPath"),o=t("./_toKey");e.exports=i},{"./_castPath":31,"./_toKey":71}],22:[function(t,e,n){function i(t){return null==t?void 0===t?u:s:c&&c in Object(t)?o(t):a(t)}var r=t("./_Symbol"),o=t("./_getRawTag"),a=t("./_objectToString"),s="[object Null]",u="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=i},{"./_Symbol":12,"./_getRawTag":39,"./_objectToString":64}],23:[function(t,e,n){function i(t,e){return null!=t&&e in Object(t)}e.exports=i},{}],24:[function(t,e,n){function i(t){return o(t)&&r(t)==a}var r=t("./_baseGetTag"),o=t("./isObjectLike"),a="[object Arguments]";e.exports=i},{"./_baseGetTag":22,"./isObjectLike":88}],25:[function(t,e,n){function i(t){if(!a(t)||o(t))return!1;var e=r(t)?p:c;return e.test(s(t))}var r=t("./isFunction"),o=t("./_isMasked"),a=t("./isObject"),s=t("./_toSource"),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,l=Function.prototype,h=Object.prototype,f=l.toString,d=h.hasOwnProperty,p=RegExp("^"+f.call(d).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=i},{"./_isMasked":51,"./_toSource":72,"./isFunction":84,"./isObject":87}],26:[function(t,e,n){function i(t,e){return r(t,e,function(e,n){return o(t,n)})}var r=t("./_basePickBy"),o=t("./hasIn");e.exports=i},{"./_basePickBy":27,"./hasIn":78}],27:[function(t,e,n){function i(t,e,n){for(var i=-1,s=e.length,u={};++i<s;){var c=e[i],l=r(t,c);n(l,c)&&o(u,a(c,t),l)}return u}var r=t("./_baseGet"),o=t("./_baseSet"),a=t("./_castPath");e.exports=i},{"./_baseGet":21,"./_baseSet":28,"./_castPath":31}],28:[function(t,e,n){function i(t,e,n,i){if(!s(t))return t;e=o(e,t);for(var c=-1,l=e.length,h=l-1,f=t;null!=f&&++c<l;){var d=u(e[c]),p=n;if(c!=h){var v=f[d];p=i?i(v,d,f):void 0,void 0===p&&(p=s(v)?v:a(e[c+1])?[]:{})}r(f,d,p),f=f[d]}return t}var r=t("./_assignValue"),o=t("./_castPath"),a=t("./_isIndex"),s=t("./isObject"),u=t("./_toKey");e.exports=i},{"./_assignValue":16,"./_castPath":31,"./_isIndex":48,"./_toKey":71,"./isObject":87}],29:[function(t,e,n){var i=t("./constant"),r=t("./_defineProperty"),o=t("./identity"),a=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:i(e),writable:!0})}:o;e.exports=a},{"./_defineProperty":33,"./constant":74,"./identity":79}],30:[function(t,e,n){function i(t){if("string"==typeof t)return t;if(a(t))return o(t,i)+"";if(s(t))return l?l.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}var r=t("./_Symbol"),o=t("./_arrayMap"),a=t("./isArray"),s=t("./isSymbol"),u=1/0,c=r?r.prototype:void 0,l=c?c.toString:void 0;e.exports=i},{"./_Symbol":12,"./_arrayMap":14,"./isArray":81,"./isSymbol":90}],31:[function(t,e,n){function i(t,e){return r(t)?t:o(t,e)?[t]:a(s(t))}var r=t("./isArray"),o=t("./_isKey"),a=t("./_stringToPath"),s=t("./toString");e.exports=i},{"./_isKey":49,"./_stringToPath":70,"./isArray":81,"./toString":96}],32:[function(t,e,n){var i=t("./_root"),r=i["__core-js_shared__"];e.exports=r},{"./_root":67}],33:[function(t,e,n){var i=t("./_getNative"),r=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();e.exports=r},{"./_getNative":37}],34:[function(t,e,n){function i(t){return a(o(t,void 0,r),t+"")}var r=t("./flatten"),o=t("./_overRest"),a=t("./_setToString");e.exports=i},{"./_overRest":66,"./_setToString":68,"./flatten":77}],35:[function(t,e,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],36:[function(t,e,n){function i(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}var r=t("./_isKeyable");e.exports=i},{"./_isKeyable":50}],37:[function(t,e,n){function i(t,e){var n=o(t,e);return r(n)?n:void 0}var r=t("./_baseIsNative"),o=t("./_getValue");e.exports=i},{"./_baseIsNative":25,"./_getValue":40}],38:[function(t,e,n){var i=t("./_overArg"),r=i(Object.getPrototypeOf,Object);e.exports=r},{"./_overArg":65}],39:[function(t,e,n){function i(t){var e=a.call(t,u),n=t[u];try{t[u]=void 0;var i=!0}catch(t){}var r=s.call(t);return i&&(e?t[u]=n:delete t[u]),r}var r=t("./_Symbol"),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=r?r.toStringTag:void 0;e.exports=i},{"./_Symbol":12}],40:[function(t,e,n){function i(t,e){return null==t?void 0:t[e]}e.exports=i},{}],41:[function(t,e,n){function i(t,e,n){e=r(e,t);for(var i=-1,l=e.length,h=!1;++i<l;){var f=c(e[i]);if(!(h=null!=t&&n(t,f)))break;t=t[f]}return h||++i!=l?h:(l=null==t?0:t.length,!!l&&u(l)&&s(f,l)&&(a(t)||o(t)))}var r=t("./_castPath"),o=t("./isArguments"),a=t("./isArray"),s=t("./_isIndex"),u=t("./isLength"),c=t("./_toKey");e.exports=i},{"./_castPath":31,"./_isIndex":48,"./_toKey":71,"./isArguments":80,"./isArray":81,"./isLength":85}],42:[function(t,e,n){function i(){this.__data__=r?r(null):{},this.size=0}var r=t("./_nativeCreate");e.exports=i},{"./_nativeCreate":63}],43:[function(t,e,n){function i(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}e.exports=i},{}],44:[function(t,e,n){function i(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return s.call(e,t)?e[t]:void 0}var r=t("./_nativeCreate"),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;e.exports=i},{"./_nativeCreate":63}],45:[function(t,e,n){function i(t){var e=this.__data__;return r?void 0!==e[t]:a.call(e,t)}var r=t("./_nativeCreate"),o=Object.prototype,a=o.hasOwnProperty;e.exports=i},{"./_nativeCreate":63}],46:[function(t,e,n){function i(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}var r=t("./_nativeCreate"),o="__lodash_hash_undefined__";e.exports=i},{"./_nativeCreate":63}],47:[function(t,e,n){function i(t){return a(t)||o(t)||!!(s&&t&&t[s])}var r=t("./_Symbol"),o=t("./isArguments"),a=t("./isArray"),s=r?r.isConcatSpreadable:void 0;e.exports=i},{"./_Symbol":12,"./isArguments":80,"./isArray":81}],48:[function(t,e,n){function i(t,e){return e=null==e?r:e,!!e&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=i},{}],49:[function(t,e,n){function i(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(s.test(t)||!a.test(t)||null!=e&&t in Object(e))}var r=t("./isArray"),o=t("./isSymbol"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=i},{"./isArray":81,"./isSymbol":90}],50:[function(t,e,n){function i(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}e.exports=i},{}],51:[function(t,e,n){function i(t){return!!o&&o in t}var r=t("./_coreJsData"),o=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();e.exports=i},{"./_coreJsData":32}],52:[function(t,e,n){function i(){this.__data__=[],this.size=0}e.exports=i},{}],53:[function(t,e,n){function i(t){var e=this.__data__,n=r(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():a.call(e,n,1),--this.size,!0}var r=t("./_assocIndexOf"),o=Array.prototype,a=o.splice;e.exports=i},{"./_assocIndexOf":17}],54:[function(t,e,n){function i(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}var r=t("./_assocIndexOf");e.exports=i},{"./_assocIndexOf":17}],55:[function(t,e,n){function i(t){return r(this.__data__,t)>-1}var r=t("./_assocIndexOf");e.exports=i},{"./_assocIndexOf":17}],56:[function(t,e,n){function i(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var r=t("./_assocIndexOf");e.exports=i},{"./_assocIndexOf":17}],57:[function(t,e,n){function i(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}var r=t("./_Hash"),o=t("./_ListCache"),a=t("./_Map");e.exports=i},{"./_Hash":8,"./_ListCache":9,"./_Map":10}],58:[function(t,e,n){function i(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}var r=t("./_getMapData");e.exports=i},{"./_getMapData":36}],59:[function(t,e,n){function i(t){return r(this,t).get(t)}var r=t("./_getMapData");e.exports=i},{"./_getMapData":36}],60:[function(t,e,n){function i(t){return r(this,t).has(t)}var r=t("./_getMapData");e.exports=i},{"./_getMapData":36}],61:[function(t,e,n){function i(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}var r=t("./_getMapData");e.exports=i},{"./_getMapData":36}],62:[function(t,e,n){function i(t){var e=r(t,function(t){return n.size===o&&n.clear(),t}),n=e.cache;return e}var r=t("./memoize"),o=500;e.exports=i},{"./memoize":91}],63:[function(t,e,n){var i=t("./_getNative"),r=i(Object,"create");e.exports=r},{"./_getNative":37}],64:[function(t,e,n){function i(t){return o.call(t)}var r=Object.prototype,o=r.toString;e.exports=i},{}],65:[function(t,e,n){function i(t,e){return function(n){return t(e(n))}}e.exports=i},{}],66:[function(t,e,n){function i(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),u=Array(s);++a<s;)u[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=n(u),r(t,this,c)}}var r=t("./_apply"),o=Math.max;e.exports=i},{"./_apply":13}],67:[function(t,e,n){var i=t("./_freeGlobal"),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},{"./_freeGlobal":35}],68:[function(t,e,n){var i=t("./_baseSetToString"),r=t("./_shortOut"),o=r(i);e.exports=o},{"./_baseSetToString":29,"./_shortOut":69}],69:[function(t,e,n){function i(t){var e=0,n=0;return function(){var i=a(),s=o-(i-n);if(n=i,s>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var r=800,o=16,a=Date.now;e.exports=i},{}],70:[function(t,e,n){var i=t("./_memoizeCapped"),r=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=i(function(t){var e=[];return r.test(t)&&e.push(""),t.replace(o,function(t,n,i,r){e.push(i?r.replace(a,"$1"):n||t)}),e});e.exports=s},{"./_memoizeCapped":62}],71:[function(t,e,n){function i(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}var r=t("./isSymbol"),o=1/0;e.exports=i},{"./isSymbol":90}],72:[function(t,e,n){function i(t){if(null!=t){try{return o.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,o=r.toString;e.exports=i},{}],73:[function(t,e,n){function i(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=o(n),n=n===n?n:0),void 0!==e&&(e=o(e),e=e===e?e:0),r(o(t),e,n)}var r=t("./_baseClamp"),o=t("./toNumber");e.exports=i},{"./_baseClamp":19,"./toNumber":95}],74:[function(t,e,n){function i(t){return function(){return t}}e.exports=i},{}],75:[function(t,e,n){function i(t,e,n){function i(e){var n=_,i=g;return _=g=void 0,x=e,w=t.apply(i,n)}function l(t){return x=t,O=setTimeout(d,e),P?i(t):w}function h(t){var n=t-k,i=t-x,r=e-n;return T?c(r,b-i):r}function f(t){var n=t-k,i=t-x;return void 0===k||n>=e||n<0||T&&i>=b}function d(){var t=o();return f(t)?p(t):void(O=setTimeout(d,h(t)))}function p(t){return O=void 0,S&&_?i(t):(_=g=void 0,w)}function v(){void 0!==O&&clearTimeout(O),x=0,_=k=g=O=void 0}function m(){return void 0===O?w:p(o())}function y(){var t=o(),n=f(t);if(_=arguments,g=this,k=t,n){if(void 0===O)return l(k);if(T)return O=setTimeout(d,e),i(k)}return void 0===O&&(O=setTimeout(d,e)),w}var _,g,b,w,O,k,x=0,P=!1,T=!1,S=!0;if("function"!=typeof t)throw new TypeError(s);return e=a(e)||0,r(n)&&(P=!!n.leading,T="maxWait"in n,b=T?u(a(n.maxWait)||0,e):b,S="trailing"in n?!!n.trailing:S),y.cancel=v,y.flush=m,y}var r=t("./isObject"),o=t("./now"),a=t("./toNumber"),s="Expected a function",u=Math.max,c=Math.min;e.exports=i},{"./isObject":87,"./now":92,"./toNumber":95}],76:[function(t,e,n){function i(t,e){return t===e||t!==t&&e!==e}e.exports=i},{}],77:[function(t,e,n){function i(t){var e=null==t?0:t.length;return e?r(t,1):[]}var r=t("./_baseFlatten");e.exports=i},{"./_baseFlatten":20}],78:[function(t,e,n){function i(t,e){return null!=t&&o(t,e,r)}var r=t("./_baseHasIn"),o=t("./_hasPath");e.exports=i},{"./_baseHasIn":23,"./_hasPath":41}],79:[function(t,e,n){function i(t){return t}e.exports=i},{}],80:[function(t,e,n){var i=t("./_baseIsArguments"),r=t("./isObjectLike"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=i(function(){return arguments}())?i:function(t){return r(t)&&a.call(t,"callee")&&!s.call(t,"callee")};e.exports=u},{"./_baseIsArguments":24,"./isObjectLike":88}],81:[function(t,e,n){var i=Array.isArray;e.exports=i},{}],82:[function(t,e,n){function i(t){return null!=t&&o(t.length)&&!r(t)}var r=t("./isFunction"),o=t("./isLength");e.exports=i},{"./isFunction":84,"./isLength":85}],83:[function(t,e,n){function i(t){return r(t)&&1===t.nodeType&&!o(t)}var r=t("./isObjectLike"),o=t("./isPlainObject");e.exports=i},{"./isObjectLike":88,"./isPlainObject":89}],84:[function(t,e,n){function i(t){if(!o(t))return!1;var e=r(t);return e==s||e==u||e==a||e==c}var r=t("./_baseGetTag"),o=t("./isObject"),a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";e.exports=i},{"./_baseGetTag":22,"./isObject":87}],85:[function(t,e,n){function i(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;e.exports=i},{}],86:[function(t,e,n){function i(t){return null==t}e.exports=i},{}],87:[function(t,e,n){function i(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}e.exports=i},{}],88:[function(t,e,n){function i(t){return null!=t&&"object"==typeof t}e.exports=i},{}],89:[function(t,e,n){function i(t){if(!a(t)||r(t)!=s)return!1;var e=o(t);if(null===e)return!0;var n=h.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==f}var r=t("./_baseGetTag"),o=t("./_getPrototype"),a=t("./isObjectLike"),s="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,h=c.hasOwnProperty,f=l.call(Object);e.exports=i},{"./_baseGetTag":22,"./_getPrototype":38,"./isObjectLike":88}],90:[function(t,e,n){function i(t){return"symbol"==typeof t||o(t)&&r(t)==a}var r=t("./_baseGetTag"),o=t("./isObjectLike"),a="[object Symbol]";e.exports=i},{"./_baseGetTag":22,"./isObjectLike":88}],91:[function(t,e,n){function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(i.Cache||r),n}var r=t("./_MapCache"),o="Expected a function";i.Cache=r,e.exports=i},{"./_MapCache":11}],92:[function(t,e,n){var i=t("./_root"),r=function(){return i.Date.now()};e.exports=r},{"./_root":67}],93:[function(t,e,n){var i=t("./_basePick"),r=t("./_flatRest"),o=r(function(t,e){return null==t?{}:i(t,e)});e.exports=o},{"./_basePick":26,"./_flatRest":34}],94:[function(t,e,n){function i(t,e,n){var i=!0,s=!0;if("function"!=typeof t)throw new TypeError(a);return o(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),r(t,e,{leading:i,maxWait:e,trailing:s})}var r=t("./debounce"),o=t("./isObject"),a="Expected a function";e.exports=i},{"./debounce":75,"./isObject":87}],95:[function(t,e,n){function i(t){if("number"==typeof t)return t;if(o(t))return a;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=c.test(t);return n||l.test(t)?h(t.slice(2),n?2:8):u.test(t)?a:+t}var r=t("./isObject"),o=t("./isSymbol"),a=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,h=parseInt;e.exports=i},{"./isObject":87,"./isSymbol":90}],96:[function(t,e,n){function i(t){return null==t?"":r(t)}var r=t("./_baseToString");e.exports=i},{"./_baseToString":30}],97:[function(t,e,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(h===setTimeout)return setTimeout(t,0);if((h===i||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function a(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function s(){m&&p&&(m=!1,p.length?v=p.concat(v):y=-1,v.length&&u())}function u(){if(!m){var t=o(s);m=!0;for(var e=v.length;e;){for(p=v,v=[];++y<e;)p&&p[y].run();y=-1,e=v.length}p=null,m=!1,a(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var h,f,d=e.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:i}catch(t){h=i}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,v=[],m=!1,y=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new c(t,e)),1!==v.length||m||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],98:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=t("lodash/isFunction"),l=i(c),h=t("lodash/pick"),f=i(h),d=t("lodash/isNil"),p=i(d),v=t("./constants"),m=t("./math/math"),y=i(m),_=t("./math/matrix2"),g=i(_),b=t("./utils"),w=i(b),O=t("./math/vector2"),k=i(O),x={type:{CORE:1}},P=["destroyOnComplete","disableDrag","disableWheel"],T=["delay","paused","useFrames","repeat","repeatDelay","yoyo","onComplete","onCompleteParams","onStart","onStartParams","onUpdate","onUpdateParams","onRepeat","onRepeatParams","onReverseComplete","onReverseCompleteParams","callbackScope"],S=P.concat(T),C=["enforceBounds","fadeDelay","fadeDuration","fadeEase","shakeDelay","shakeDirection","shakeDuration","shakeEase","shakeEaseIn","shakeEaseOut"],E=["delay","ease","overwrite"],M=["onComplete","onCompleteParams","onStart","onStartParams","onUpdate","onUpdateParams","onReverseComplete","onReverseCompleteParams","callbackScope"],A=C.concat(E,M),D=C.concat(E),j=function(t){function e(t,n){r(this,e),n=Object.assign({paused:!0},(0,f.default)(n,S));var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},n)));return i.config=n,i.type=v.Type.ANIMATION,i.camera=t||null,i.coreTweens=[],i.currentKeyframe=null,i.destroyOnComplete=!!n.destroyOnComplete,i.disableWheel=n.disableWheel!==!1,i.previousProps={},i._onStart=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._initCoreTween(this.coreTweens[0]),this.camera.isAnimating=!0,this.disableWheel&&this.camera.disableWheelToZoom(),void 0===this.config.onStart||t||this.config.onStart.apply(this,this.config.onStartParams)},i._onUpdate=function(){void 0!==this.config.onUpdate&&this.config.onUpdate.apply(this,this.config.onUpdateParams),this.camera.render()},i._onComplete=function(){this.camera.isAnimating=!1,this.camera.enableWheelToZoom(),void 0!==this.config.onComplete&&this.config.onComplete.apply(this,this.config.onCompleteParams),this.destroyOnComplete&&this.destroy()},i._onRepeat=function(){this._onStart(!0),void 0!==this.config.onRepeat&&this.config.onRepeat.apply(this,this.config.onRepeatParams)},i.eventCallback("onStart",i._onStart),i.eventCallback("onUpdate",i._onUpdate),i.eventCallback("onComplete",i._onComplete),i.eventCallback("onRepeat",i._onRepeat),i}return a(e,t),s(e,[{key:"_animate",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=(0,f.default)(i,A);var r=new TimelineLite({data:{onStart:i.onStart,onStartParams:i.onStartParams,onUpdate:i.onUpdate,onUpdateParams:i.onUpdateParams,onComplete:i.onComplete,onCompleteParams:i.onCompleteParams,onReverseComplete:i.onReverseComplete,onReverseCompleteParams:i.onReverseCompleteParams},callbackScope:this,onStartParams:["{self}"],onStart:function(t){this.currentKeyframe=t,void 0!==t.data.onStart&&t.data.onStart.apply(this,t.data.onStartParams)},onUpdateParams:["{self}"],onUpdate:function(t){void 0!==t.data.onUpdate&&t.data.onUpdate.apply(this,t.data.onUpdateParams)},onCompleteParams:["{self}"],onComplete:function(t){void 0!==t.data.onComplete&&t.data.onComplete.apply(this,t.data.onCompleteParams)},onReverseCompleteParams:["{self}"],onReverseComplete:function(t){void 0!==t.data.onReverseComplete&&t.data.onReverseComplete.apply(this,t.data.onReverseCompleteParams)}}),o=this._parseFade(t,n,i),a=null,s=this._parseShake(t,n,i);if(M.forEach(function(t){delete i[t]}),t.origin||t.position||t.rotation||0===t.rotation||t.zoom){var u=TweenMax.to(this.camera,0===n?.016:n,Object.assign({},i,{data:{enforceBounds:i.enforceBounds!==!1},_rawOffsetX:0,_rawOffsetY:0,_rawScaleOffsetX:0,_rawScaleOffsetY:0,rotation:0,zoom:0,immediateRender:!1,callbackScope:this,onStartParams:["{self}"],onStart:function(t){var e=v.zoomDirection.NONE;t.props.to.zoom>this.camera.zoom?e=v.zoomDirection.IN:t.props.to.zoom<this.camera.zoom&&(e=v.zoomDirection.OUT),this.camera.zoomDirection=e,this.camera.setTransformOrigin(t.props.to.origin),t.timeline.core=t},onUpdateParams:["{self}"],onUpdate:function(t){var e,n=this.camera._rawOffset;t.props.to.isOriginAuto&&t.props.to.isPositionChanging&&t.props.to.isRotationChanging&&(e=this.camera._convertOffsetToPosition(this.camera._rawScaleOffset,this.camera.center,this.camera.transformOrigin,this.camera.scaleTransformation),n=this.camera._convertPositionToOffset(e,this.camera.center,this.camera.transformOrigin,this.camera.transformation)),this.camera.setPosition(this.camera._convertOffsetToPosition(n,this.camera.center,this.camera.transformOrigin,this.camera.transformation),t.data.enforceBounds)},onCompleteParams:["{self}"],onComplete:function(t){this._initCoreTween(this.coreTweens[t.index+1],t.props.end)},onReverseCompleteParams:["{self}"],onReverseComplete:function(t){this.camera.setTransformOrigin(t.props.start.origin)}}));u.type=x.type.CORE,u.props={source:{},parsed:{},to:{},start:{},end:{}},u.props.source.origin=t.origin,u.props.source.position=t.position,u.props.source.rotation=t.rotation,u.props.source.zoom=t.zoom,u.index=this.coreTweens.length,this.coreTweens.push(u),r.add(u,0)}return o.opacity&&r.to(this.camera,0===o.duration?.016:o.duration,Object.assign({},i,{fadeOpacity:o.opacity,ease:o.ease,delay:o.delay},0)),s.duration>0&&s.intensity>0&&(a=new TimelineLite(Object.assign({},i,{data:{intensity:0,direction:s.direction,enforceBounds:i.enforceBounds!==!1
},delay:s.delay,callbackScope:this,onStartParams:["{self}"],onStart:function(t){t.timeline.shake=t},onUpdateParams:["{self}"],onUpdate:function(t){var n=0===t.progress(),i=1===t.progress(),r=0,o=0,a=this.camera._clampPosition(this.camera._convertOffsetToPosition(this.camera._rawOffset,this.camera.center,this.camera.transformOrigin,this.camera.transformation));t.data.direction!==e.shake.direction.HORIZONTAL&&t.data.direction!==e.shake.direction.BOTH||n||i||(r=Math.random()*t.data.intensity*this.camera.width*2-t.data.intensity*this.camera.width,a.x+=r),t.data.direction!==e.shake.direction.VERTICAL&&t.data.direction!==e.shake.direction.BOTH||n||i||(o=Math.random()*t.data.intensity*this.camera.height*2-t.data.intensity*this.camera.height,a.y+=o),this.camera.setPosition(a,t.data.enforceBounds)},onCompleteParams:["{self}"]})),s.easeIn&&s.easeOut?(a.fromTo(a.data,.5*s.duration,{intensity:0},{intensity:s.intensity,ease:s.easeIn},0),a.to(a.data,.5*s.duration,{intensity:0,ease:s.easeOut},.5*s.duration)):s.easeIn&&!s.easeOut?a.fromTo(a.data,s.duration,{intensity:0},{intensity:s.intensity,ease:s.easeIn},0):!s.easeIn&&s.easeOut?a.fromTo(a.data,s.duration,{intensity:s.intensity},{intensity:0,ease:s.easeOut},0):s.ease?a.fromTo(a.data,s.duration,{intensity:0},{intensity:s.intensity,ease:s.ease},0):(a.data.intensity=s.intensity,a.to(a.data,s.duration,{},0)),r.add(a,0)),this.add(r),this}},{key:"_calculateToProps",value:function(t,e){var n,i,r={origin:t.origin!==v.originKeyword.AUTO?t.origin:{},position:null!==t.position?t.position:{},rotation:t.rotation,zoom:t.zoom},o=!1,a=t.origin===v.originKeyword.AUTO,s=Number.isFinite(r.origin.x),u=Number.isFinite(r.origin.y),c=s||u,l=Number.isFinite(r.position.x),h=Number.isFinite(r.position.y),f=l||h,d=f,p=Number.isFinite(r.rotation)&&r.rotation!==e.rotation,m=Number.isFinite(r.zoom)&&r.zoom!==e.zoom,_=this.camera.center,b=(new g.default).scale(e.zoom,e.zoom).rotate(y.default.degToRad(-e.rotation)),w=new k.default(s?r.origin.x:e.origin.x,u?r.origin.y:e.origin.y),O=new k.default(l?r.position.x:e.position.x,h?r.position.y:e.position.y),x=p?r.rotation:e.rotation,P=m?r.zoom:e.zoom,T=(new g.default).scale(P,P),S=(new g.default).scale(P,P).rotate(y.default.degToRad(-x));return a&&!f?(o=!0,w.copy(e.position)):c&&!f?(o=!0,f=!0,_=this.camera._convertScenePositionToFOVPosition(w,e.position,this.camera.center,b),O=this.camera._convertScenePositionToCameraPosition(w,_,this.camera.center,w,S)):a&&f&&p&&w.copy(O),n=this.camera._convertPositionToOffset(O,this.camera.center,w,T),i=this.camera._convertPositionToOffset(O,this.camera.center,w,S),{isOriginAuto:a,isPositionChanging:f,isRotationChanging:p,scaleOffsetX:d?n.x:null,scaleOffsetY:d?n.y:null,offsetX:d?i.x:null,offsetY:d?i.y:null,origin:o||c||a&&f&&p?w:null,position:f?O:null,rotation:p?x:null,zoom:m?P:null}}},{key:"_getStartProps",value:function(){return{origin:this.camera.transformOrigin.clone(),position:this.camera.position.clone(),rotation:this.camera.rotation,zoom:this.camera.zoom}}},{key:"_getEndProps",value:function(t,e){return{origin:null!==t.origin?t.origin:e.origin,position:null!==t.position?t.position:e.position,rotation:null!==t.rotation?t.rotation:e.rotation,zoom:null!==t.zoom?t.zoom:e.zoom}}},{key:"_initCoreTween",value:function(t,e){if(void 0!==t){t.invalidate(),e=void 0!==e?e:this._getStartProps();var n=this._parseProps(t.props.source),i=this._calculateToProps(n,e),r=this._getEndProps(i,e);this.previousProps=e,t.props.start=e,t.props.end=r,t.props.parsed=n,t.props.to=i,this.camera._updateRawOffset(),this.camera.setTransformOrigin(i.origin),t.vars._rawOffsetX=i.offsetX,t.vars._rawOffsetY=i.offsetY,t.vars._rawScaleOffsetX=i.scaleOffsetX,t.vars._rawScaleOffsetY=i.scaleOffsetY,t.vars.rotation=i.rotation,t.vars.zoom=i.zoom}return this}},{key:"_parseProps",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.origin,n=void 0===e?null:e,i=t.position,r=void 0===i?null:i,o=t.rotation,a=void 0===o?null:o,s=t.zoom,u=void 0===s?null:s;return"previous"===r&&this.previousProps.position&&(r=this.previousProps.position),"previous"!==a||(0,p.default)(this.previousProps.rotation)||(a=this.previousProps.rotation),"previous"===u&&Number.isFinite(this.previousProps.zoom)&&(u=this.previousProps.zoom),{origin:w.default.parseOrigin(n,this.camera.scene,this.camera.transformation),position:w.default.parsePosition(r,this.camera.scene,this.camera.transformation),rotation:(0,l.default)(a)?a():a,zoom:(0,l.default)(u)?u():u}}},{key:"_parseFade",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{opacity:Number.isFinite(t.fadeOpacity)?t.fadeOpacity:null,delay:Number.isFinite(n.fadeDelay)?n.fadeDelay:n.delay||0,duration:Number.isFinite(n.fadeDuration)?n.fadeDuration:e,ease:n.fadeEase?n.fadeEase:n.ease||null}}},{key:"_parseShake",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{intensity:Number.isFinite(t.shakeIntensity)?t.shakeIntensity:null,delay:Number.isFinite(i.shakeDelay)?i.shakeDelay:i.delay||0,direction:i.shakeDirection?i.shakeDirection:e.shake.direction.BOTH,duration:Number.isFinite(i.shakeDuration)?i.shakeDuration:n,ease:i.shakeEase?i.shakeEase:i.ease||null,easeIn:i.shakeEaseIn,easeOut:i.shakeEaseOut}}},{key:"destroy",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"kill",this).call(this),this.camera=null,this.currentKeyframe=null,this.previousProps=null}},{key:"animate",value:function(t,e,n){return this._animate({fadeOpacity:t.fadeOpacity,origin:t.origin,position:t.position,rotation:t.rotation,shakeIntensity:t.shakeIntensity,zoom:t.zoom},e,n),this}},{key:"fadeTo",value:function(t,e,n){return this._animate({fadeOpacity:t},e,n),this}},{key:"moveTo",value:function(t,e,n){return this._animate({position:t},e,n),this}},{key:"rotateAt",value:function(t,e,n,i){return this._animate({origin:e,rotation:t},n,i),this}},{key:"rotateTo",value:function(t,e,n){return this._animate({rotation:t},e,n),this}},{key:"shake",value:function(t,e,n){return this._animate({shakeIntensity:t},e,n),this}},{key:"zoomAt",value:function(t,e,n,i){return this._animate({origin:e,zoom:t},n,i),this}},{key:"zoomTo",value:function(t,e,n){return this._animate({zoom:t},e,n),this}}],[{key:"_filterKeyframeEventCallbackOptions",value:function(t){return(0,f.default)(t,D)}}]),e}(TimelineMax);j.shake={direction:{BOTH:0,HORIZONTAL:1,VERTICAL:2}},n.default=j},{"./constants":101,"./math/math":104,"./math/matrix2":105,"./math/vector2":106,"./utils":111,"lodash/isFunction":84,"lodash/isNil":86,"lodash/pick":93}],99:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("./animation"),s=i(a),u=t("./constants"),c=function(){function t(e){r(this,t),this.camera=e,this.currentAnimation=null,this._animations={}}return o(t,[{key:"add",value:function(t,e){var n=void 0;return this._animations[t]&&this._animations[t].destroy(),e.type===u.Type.ANIMATION?n=e:(n=new s.default(this.camera,e.options),e.keyframes.forEach(function(t){n.animate({fadeOpacity:t.fadeOpacity,origin:t.origin,position:t.position,rotation:t.rotation,shakeIntensity:t.shakeIntensity,zoom:t.zoom},t.duration,t.options)})),this._animations[t]=n,this}},{key:"destroy",value:function(){for(var t in this._animations)this._animations[t].destroy();return this.camera=null,this.currentAnimation=null,this._animations={},this}},{key:"get",value:function(t){return this._animations[t]}},{key:"pause",value:function(){return this.currentAnimation&&this.currentAnimation.pause(null,!1),this}},{key:"play",value:function(t){var e;return"string"==typeof t&&(e=this._animations[t]),e?(this.currentAnimation=e,this.currentAnimation.invalidate().restart(!0)):void 0===t&&this.currentAnimation&&this.currentAnimation.play(null,!1),this}},{key:"resume",value:function(){return this.currentAnimation&&this.currentAnimation.resume(null,!1),this}},{key:"reverse",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"string"==typeof e&&(t=this._animations[e]),t?(this.currentAnimation=t,this.currentAnimation.invalidate().reverse(0,!1)):null===e&&this.currentAnimation&&this.currentAnimation.reverse(),this}},{key:"isAnimating",get:function(){var t=this.currentAnimation?this.currentAnimation.progress():0;return t>0&&t<1}},{key:"isPaused",get:function(){return!!this.currentAnimation&&this.currentAnimation.paused()}}]),t}();n.default=c},{"./animation":98,"./constants":101}],100:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("lodash/clamp"),s=i(a),u=t("lodash/isFunction"),c=i(u),l=t("./constants"),h=t("fbemitter"),f=t("./animation"),d=i(f),p=t("./animationManager"),v=i(p),m=t("./cssRenderer"),y=i(m),_=t("./math/math"),g=i(_),b=t("./math/matrix2"),w=i(b),O=t("./sceneManager"),k=i(O),x=t("./trackControl"),P=i(x),T=t("./utils"),S=i(T),C=t("./math/vector2"),E=i(C),M={ANONYMOUS:"_anonymous"},A=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.bounds,o=void 0===i?null:i,a=n.dragToMove,s=void 0!==a&&a,u=n.height,c=void 0===u?0:u,f=n.maxZoom,p=void 0===f?3:f,m=n.minZoom,_=void 0===m?.5:m,g=n.onInitialize,b=void 0===g?null:g,w=n.onBeforeRender,O=void 0===w?null:w,x=n.onRender,P=void 0===x?null:x,T=n.view,S=void 0===T?null:T,C=n.wheelToZoom,M=void 0!==C&&C,A=n.wheelToZoomIncrement,D=void 0===A?.01:A,j=n.width,z=void 0===j?0:j;r(this,t),this.animations=new v.default(this),this.bounds=o,this.center=new E.default(z,c).multiplyScalar(.5),this.dragToMove=s===!0,this.height=c,this.isAnimating=!1,this.isRendered=!1,this.minPositionX=null,this.minPositionY=null,this.maxPositionX=null,this.maxPositionY=null,this.minZoom=_,this.maxZoom=p,this.fadeOpacity=1,this.position=new E.default(0,0),this.renderer=new y.default(this),this.rotation=0,this.scenes=new k.default,this.trackControl=null,this.transformOrigin=new E.default(0,0),this.view=null,this.wheelToZoom=M===!0,this.wheelToZoomIncrement=D,this.width=z,this.zoomDirection=l.zoomDirection.NONE,this._events=new h.EventEmitter,this._rasterScale=1,this._rawOffset=new E.default(0,0),this._rawScaleOffset=new E.default(0,0),this._transformOriginOffset=new E.default(0,0),this._zoom=1,this.setPosition(new E.default(.5*z,.5*c)),null!==b&&(this.onInitialize=b),null!==O&&(this.onBeforeRender=O),null!==P&&(this.onRender=P),this.onResize=function(){null!==e.view&&(e.renderer.renderSize(),new d.default(e,{destroyOnComplete:!0,paused:!1,onComplete:function(t){if(this.camera.animations.currentAnimation){var e=this.camera.animations.currentAnimation,n=e.time();e.totalProgress()>0&&(e.seek(0).invalidate(),e.coreTweens[0]&&this.camera.setPosition(e.coreTweens[0].props.start.position),e.seek(n,!1)),t||this.camera.resume()}},onCompleteParams:[e.animations.isPaused]}).moveTo(e.position,0,{overwrite:!1}))},this._events.addListener("change:size",this.onResize),this.setView(S),this.onInitialize(arguments[0])}return o(t,[{key:"_clampPosition",value:function(t){return t.clone().set(this._clampPositionX(t.x),this._clampPositionY(t.y))}},{key:"_clampPositionX",value:function(t){return null!==this.bounds&&(t=(0,s.default)(t,this.minPositionX,this.maxPositionX)),t}},{key:"_clampPositionY",value:function(t){return null!==this.bounds&&(t=(0,s.default)(t,this.minPositionY,this.maxPositionY)),t}},{key:"_clampZoom",value:function(t){return(0,s.default)(t,this.minZoom,this.maxZoom)}},{key:"_convertFOVPositionToScenePosition",value:function(t,e,n,i){return e.clone().transform(i).subtract(n.clone().subtract(t)).transform(i.getInverse())}},{key:"_convertScenePositionToFOVPosition",value:function(t,e,n,i){return n.clone().add(t.clone().transform(i).subtract(e.clone().transform(i)))}},{key:"_convertScenePositionToCameraPosition",value:function(t,e,n,i,r){var o=this._getTransformOriginOffset(i,r),a=t.clone().transform(r).subtract(o).subtract(e);return this._convertOffsetToPosition(a,n,i,r)}},{key:"_convertOffsetToPosition",value:function(t,e,n,i){var r=this._getTransformOriginOffset(n,i);return t.clone().add(r).add(e).transform(i.getInverse())}},{key:"_convertPositionToOffset",value:function(t,e,n,i){var r=this._getTransformOriginOffset(n,i);return t.clone().transform(i).subtract(r).subtract(e)}},{key:"_getTransformOriginOffset",value:function(t,e){return t.clone().transform(e).subtract(t)}},{key:"_reset",value:function(){return this.transformOrigin.set(0,0),this.setPosition(new E.default(.5*this.width,.5*this.height)),this.rotation=0,this.zoom=1,this._rasterScale=1,this._updateRawOffset(),this}},{key:"_updateBounds",value:function(){var t;return t=null===this.bounds?{minX:null,minY:null,maxX:null,maxY:null}:(0,c.default)(this.bounds)?this.bounds.call(this):this.bounds,this.minPositionX=t.minX,this.minPositionY=t.minY,this.maxPositionX=t.maxX,this.maxPositionY=t.maxY,this}},{key:"_updateRawOffset",value:function(){return this._rawOffset.copy(this._convertPositionToOffset(this.position,this.center,this.transformOrigin,this.transformation)),this._rawScaleOffset.copy(this._convertPositionToOffset(this.position,this.center,this.transformOrigin,this.scaleTransformation)),this}},{key:"addAnimation",value:function(t,e){return this.animations.add(t,e),this}},{key:"getAnimation",value:function(t){return this.animations.get(t)}},{key:"addScene",value:function(t,e){return this.scenes.add(t,e),this}},{key:"getScene",value:function(t){return this.scenes.get(t)}},{key:"setScene",value:function(t){return this.scenes.setActiveScene(t),this._reset(),this}},{key:"applyBounds",value:function(t){return void 0!==t&&(this.bounds=t,this._updateBounds()),this.setPosition(this.position),this}},{key:"destroy",value:function(){return this.setView(null),this.animations.destroy(),this.renderer.destroy(),this.scenes.destroy(),this._events.removeAllListeners(),this}},{key:"disableDragToMove",value:function(){return this.trackControl&&this.dragToMove&&this.trackControl.disableDrag(),this}},{key:"enableDragToMove",value:function(){return this.trackControl&&this.dragToMove&&this.trackControl.enableDrag(),this}},{key:"disableWheelToZoom",value:function(){return this.trackControl&&this.wheelToZoom&&this.trackControl.disableWheel(),this}},{key:"enableWheelToZoom",value:function(){return this.trackControl&&this.wheelToZoom&&this.trackControl.enableWheel(),this}},{key:"getElementPosition",value:function(t){return S.default.DOM.getObjectWorldPosition(S.default.DOM.parseView(t),this.scene,this.transformation)}},{key:"onInitialize",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onRender",value:function(){}},{key:"render",value:function(){return this.onBeforeRender(),null!==this.view&&this.renderer.render(),this.onRender(),this}},{key:"setPosition",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?this.position.set(this._clampPositionX(t.x),this._clampPositionY(t.y)):this.position.set(t.x,t.y),this}},{key:"setSize",value:function(t,e){var n=!1;return Number.isFinite(t)&&t!==this.width&&(this.width=t,this.center.x=.5*t,n=!0),Number.isFinite(e)&&e!==this.height&&(this.height=e,this.center.y=.5*e,n=!0),n&&this._events.emit("change:size"),this}},{key:"setTransformOrigin",value:function(t){return t&&!t.equals(this.transformOrigin)&&(this.transformOrigin.copy(t),(this.isRotated||this.isZoomed)&&this._updateRawOffset()),this}},{key:"setView",value:function(t){return t=S.default.DOM.parseView(t),this.view&&(this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.trackControl.destroy(),this.trackControl=null,this.view=null,this.isRendered=!1,this._rasterScale=this.zoom),t&&(this.view=t,this.scenes.ensureView(),this.view.style.display="none",this.view.style.overflow="hidden",this.view.style.position="relative",this.view.appendChild(this.scenes.view),this.trackControl=new P.default(this,{draggable:this.dragToMove,onDrag:function(t){var e=t._convertOffsetToPosition(new E.default(-this.x,-this.y),t.center,t.transformOrigin,t.transformation);t.moveTo(e,0,{onCompleteParams:[this],onComplete:function(t){t.update()}})},onPress:function(t){t.isAnimating&&this._endDrag(this.pointerEvent)},wheelable:this.wheelToZoom,onWheel:function(t){var e,n=1,i=0,r=Math.abs(this.wheelEvent.deltaY),o=this.wheelEvent.deltaY>0?i:n,a=this.previousWheelEvent.deltaY>0?i:n,s=new E.default,u=new E.default,c=t.transformOrigin,l=t.zoom+t.zoom*t.wheelToZoomIncrement*(r>1?.5*r:1)*(o===n?1:-1);o===a&&t._clampZoom(l)!==t.zoom&&(e=t.view.getBoundingClientRect(),s.set(this.wheelEvent.clientX-e.left,this.wheelEvent.clientY-e.top),u=t._convertFOVPositionToScenePosition(s,t.position,t.center,t.transformation),Math.floor(c.x)===Math.floor(u.x)&&Math.floor(c.y)===Math.floor(u.y)||(c=u),t.zoomAt(l,c,0,{disableWheel:!1}))}})),this}},{key:"pause",value:function(){return this.animations.pause(),this}},{key:"play",value:function(t){return this.animations.play(t),this}},{key:"resume",value:function(){return this.animations.resume(),this}},{key:"reverse",value:function(t){return this.animations.reverse(t),this}},{key:"animate",value:function(t,e,n){return this.animations.add(M.ANONYMOUS,new d.default(this,n).animate(t,e,d.default._filterKeyframeEventCallbackOptions(n))),this.animations.play(M.ANONYMOUS),this}},{key:"fadeTo",value:function(t,e,n){return this.animations.add(M.ANONYMOUS,new d.default(this,n).fadeTo(t,e,d.default._filterKeyframeEventCallbackOptions(n))),this.animations.play(M.ANONYMOUS),this}},{key:"moveTo",value:function(t,e,n){return this.animations.add(M.ANONYMOUS,new d.default(this,n).moveTo(t,e,d.default._filterKeyframeEventCallbackOptions(n))),this.animations.play(M.ANONYMOUS),this}},{key:"rotateAt",value:function(t,e,n,i){return this.animations.add(M.ANONYMOUS,new d.default(this,i).rotateAt(t,e,n,d.default._filterKeyframeEventCallbackOptions(i))),this.animations.play(M.ANONYMOUS),this}},{key:"rotateTo",value:function(t,e,n){return this.animations.add(M.ANONYMOUS,new d.default(this,n).rotateTo(t,e,d.default._filterKeyframeEventCallbackOptions(n))),this.animations.play(M.ANONYMOUS),this}},{key:"shake",value:function(t,e,n){return this.animations.add(M.ANONYMOUS,new d.default(this).shake(t,e,d.default._filterKeyframeEventCallbackOptions(n))),this.animations.play(M.ANONYMOUS),this}},{key:"zoomAt",value:function(t,e,n,i){return this.animations.add(M.ANONYMOUS,new d.default(this,i).zoomAt(t,e,n,d.default._filterKeyframeEventCallbackOptions(i))),this.animations.play(M.ANONYMOUS),this}},{key:"zoomTo",value:function(t,e,n){return this.animations.add(M.ANONYMOUS,new d.default(this,n).zoomTo(t,e,d.default._filterKeyframeEventCallbackOptions(n))),this.animations.play(M.ANONYMOUS),this}},{key:"isRotated",get:function(){return Math.abs(this.rotation/360)%1>0}},{key:"isZoomed",get:function(){return 1!==this.zoom}},{key:"_rawOffsetX",get:function(){return this._rawOffset.x},set:function(t){this._rawOffset.x=t}},{key:"_rawOffsetY",get:function(){return this._rawOffset.y},set:function(t){this._rawOffset.y=t}},{key:"_rawScaleOffsetX",get:function(){return this._rawScaleOffset.x},set:function(t){this._rawScaleOffset.x=t}},{key:"_rawScaleOffsetY",get:function(){return this._rawScaleOffset.y},set:function(t){this._rawScaleOffset.y=t}},{key:"scene",get:function(){return this.scenes.activeScene}},{key:"scaleTransformation",get:function(){return(new w.default).scale(this.zoom,this.zoom)}},{key:"transformation",get:function(){return(new w.default).scale(this.zoom,this.zoom).rotate(g.default.degToRad(-this.rotation))}},{key:"zoom",get:function(){return this._zoom},set:function(t){this._zoom=this._clampZoom(t),this._updateBounds()}}]),t}();A.bounds={NONE:null,WORLD:function(){var t=this.scaleTransformation.getInverse(),e=this.center.clone().transform(t),n=new E.default(this.scene.width,this.scene.height).transform(this.scaleTransformation).subtract(this.center).transform(t);return{minX:e.x,minY:e.y,maxX:n.x,maxY:n.y}},WORLD_EDGE:function(){return{minX:0,minY:0,maxX:this.scene.width,maxY:this.scene.height}}},n.default=A},{"./animation":98,"./animationManager":99,"./constants":101,"./cssRenderer":102,"./math/math":104,"./math/matrix2":105,"./math/vector2":106,"./sceneManager":109,"./trackControl":110,"./utils":111,fbemitter:1,"lodash/clamp":73,"lodash/isFunction":84}],101:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.originKeyword={AUTO:"auto"},n.Type={ANIMATION:0},n.zoomDirection={NONE:0,IN:1,OUT:-1}},{}],102:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=t("./constants"),a=function(){function t(e){i(this,t),this.camera=e}return r(t,[{key:"destroy",value:function(){return this.camera=null,this}},{key:"render",value:function(){var t=this.camera._convertPositionToOffset(this.camera.position,this.camera.center,this.camera.transformOrigin,this.camera.transformation),e=.3,n=this.camera.zoom>=1?Math.floor(this.camera.zoom):.5;this.camera.scene.view.style.visibility="visible",this.camera.zoom===this.camera.maxZoom||this.camera.zoomDirection===o.zoomDirection.IN&&this.camera.zoom>this.camera._rasterScale+e*n?(this.camera._rasterScale=this.camera.zoom,this.camera.scenes.view.style.willChange="auto"):this.camera.scenes.view.style.willChange="transform",TweenLite.set(this.camera.scenes.view,{css:{transformOrigin:this.camera.transformOrigin.x+"px "+this.camera.transformOrigin.y+"px",opacity:this.camera.fadeOpacity,rotation:-this.camera.rotation,scaleX:this.camera.zoom,scaleY:this.camera.zoom,x:-t.x,y:-t.y}}),this.camera.isRendered===!1&&(this.renderSize(),this.camera.view.style.display="block",this.camera.isRendered=!0)}},{key:"renderSize",value:function(){TweenLite.set(this.camera.view,{css:{height:this.camera.height,width:this.camera.width}})}}]),t}();n.default=a},{"./constants":101}],103:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("./utils"),s=i(a),u=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.dragProxy,a=void 0===o?e:o,u=i.onDrag,c=void 0===u?function(){}:u,l=i.onDragParams,h=void 0===l?[]:l,f=i.onDragScope,d=void 0===f?this:f,p=i.onPress,v=void 0===p?function(){}:p,m=i.onPressParams,y=void 0===m?[]:m;r(this,t),this.config={dragProxy:a,onDrag:c,onDragParams:h,onDragScope:d,onPress:v,onPressParams:y},this.control=new Draggable(e,{callbackScope:d,onDrag:c,onDragParams:h,onPress:v,onPressParams:y,zIndexBoost:!1}),this.dragProxy=s.default.DOM.parseView(a),this.isDragging=!1,this.isPressed=!1,this._onDragstart=function(t){return t.preventDefault(),t.stopPropagation(),!1},this._onDragRelease=function(t){n._endDrag(t)},this._onDragLeave=function(t){n._endDrag(t)},this._onDragMove=function(t){n.isPressed&&!n.isDragging&&(n.control.startDrag(t),n.isDragging=!0)},this._endDrag=function(t){n.control.endDrag(t),n.dragProxy.removeEventListener("mouseup",n._onDragRelease),n.dragProxy.removeEventListener("mouseleave",n._onDragLeave),n.dragProxy.removeEventListener("mousemove",n._onDragMove),n.dragProxy.removeEventListener("touchend",n._onDragRelease),n.dragProxy.removeEventListener("touchcancel",n._onDragRelease),n.dragProxy.removeEventListener("touchmove",n._onDragMove),n.isDragging=!1},this._onPress=function(){n.dragProxy.addEventListener("mouseup",n._onDragRelease),n.dragProxy.addEventListener("mouseleave",n._onDragLeave),n.dragProxy.addEventListener("mousemove",n._onDragMove),n.dragProxy.addEventListener("touchend",n._onDragRelease),n.dragProxy.addEventListener("touchcancel",n._onDragRelease),n.dragProxy.addEventListener("touchmove",n._onDragMove),n.isPressed=!0,n.config.onPress.apply(n,n.config.onPressParams)},this._onRelease=function(){n._release()},this._onLeave=function(){n._release()},this._release=function(){n.isPressed=!1},this.enable()}return o(t,[{key:"destroy",value:function(){return this.disable(),this.control.kill(),this.config={},this.dragProxy=null,this}},{key:"disable",value:function(){return this.control.disable(),this.dragProxy.removeEventListener("dragstart",this._onDragstart),this.dragProxy.removeEventListener("mousedown",this._onPress),this.dragProxy.removeEventListener("mouseup",this._onRelease),this.dragProxy.removeEventListener("mouseleave",this._onLeave),this.dragProxy.removeEventListener("touchstart",this._onPress),this.dragProxy.removeEventListener("touchend",this._onRelease),this.dragProxy.removeEventListener("touchcancel",this._onRelease),this.dragProxy.style.cursor=null,this}},{key:"enable",value:function(){return this.control.enable(),this.dragProxy.addEventListener("dragstart",this._onDragstart),this.dragProxy.addEventListener("mousedown",this._onPress),this.dragProxy.addEventListener("mouseup",this._onRelease),this.dragProxy.addEventListener("mouseleave",this._onLeave),this.dragProxy.addEventListener("touchstart",this._onPress),this.dragProxy.addEventListener("touchend",this._onRelease),this.dragProxy.addEventListener("touchcancel",this._onRelease),this.dragProxy.style.cursor="move",this}},{key:"update",value:function(){return this.control.update()}},{key:"enabled",get:function(){return this.control.enabled()}},{key:"pointerEvent",get:function(){return this.control.pointerEvent}},{key:"pointerX",get:function(){return this.control.pointerX}},{key:"pointerY",get:function(){return this.control.pointerY}},{key:"target",get:function(){return this.control.target}},{key:"x",get:function(){return this.control.x}},{key:"y",get:function(){return this.control.y}}]),t}();n.default=u},{"./utils":111}],104:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={degToRad:function(t){return t*i.degToRadFactor},radToDeg:function(t){return t*i.radToDegFactor}};Object.defineProperty(i,"degToRadFactor",{value:Math.PI/180}),Object.defineProperty(i,"radToDegFactor",{value:180/Math.PI}),n.default=i},{}],105:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("lodash/isArrayLike"),s=i(a),u=function(){function t(e,n,i,o){r(this,t),this.e11=1,this.e12=0,this.e21=0,this.e22=1,4===arguments.length?this.set(e,n,i,o):(0,s.default)(e)&&4===e.length&&this.setFromArray(e)}return o(t,[{key:"clone",value:function(){return this.constructor.clone(this)}},{key:"copy",value:function(t){return this.set(t.e11,t.e12,t.e21,t.e22)}},{key:"getDeterminant",value:function(){return this.constructor.getDeterminant(this)}},{key:"getInverse",value:function(){return this.constructor.getInverse(this)}},{key:"multiplyMatrices",value:function(t){if(this.cols!==t.rows)throw new Error("Cannot multiply incompatible matrices");var e=void 0,n=void 0,i=void 0,r=void 0;return e=this.e11*t.e11+this.e12*t.e21,n=this.e11*t.e12+this.e12*t.e22,i=this.e21*t.e11+this.e22*t.e21,r=this.e21*t.e12+this.e22*t.e22,this.set(e,n,i,r),this}},{key:"multiplyScalar",value:function(t){return this.e11*=t,this.e12*=t,this.e21*=t,this.e22*=t,this}},{key:"rotate",value:function(e){var n=Math.cos(e),i=Math.sin(e),r=new t(n,-i,i,n);return this.multiplyMatrices(r),this}},{key:"scale",value:function(e,n){return this.multiplyMatrices(new t(e,0,0,n)),this}},{key:"set",value:function(t,e,n,i){return this.e11=t,this.e12=e,this.e21=n,this.e22=i,this}},{key:"setFromArray",value:function(t){return this.set(t[0],t[1],t[2],t[3]),this}},{key:"setToIdentity",value:function(){return this.set(1,0,0,1),this}},{key:"toArray",value:function(){return this.constructor.toArray(this)}},{key:"toFloat32Array",value:function(){return this.constructor.toFloat32Array(this)}}],[{key:"clone",value:function(e){return new t(t.toArray(e))}},{key:"getDeterminant",value:function(t){return t.e11*t.e22-t.e12*t.e21}},{key:"getInverse",value:function(e){return t.multiplyScalar(new t(e.e22,-e.e12,-e.e21,e.e11),1/t.getDeterminant(e))}},{key:"multiplyMatrices",value:function(e,n){if(e.cols===n.rows){var i=void 0,r=void 0,o=void 0,a=void 0;return i=e.e11*n.e11+e.e12*n.e21,r=e.e11*n.e12+e.e12*n.e22,o=e.e21*n.e11+e.e22*n.e21,a=e.e21*n.e12+e.e22*n.e22,new t(i,r,o,a)}throw new Error("Cannot multiply incompatible matrices")}},{key:"multiplyScalar",value:function(e,n){var i=e.e11*n,r=e.e12*n,o=e.e21*n,a=e.e22*n;return new t(i,r,o,a)}},{key:"rotate",value:function(e,n){var i=Math.cos(n),r=Math.sin(n),o=new t(i,-r,r,i);return t.multiplyMatrices(e,o)}},{key:"scale",value:function(e,n,i){return t.multiplyMatrices(e,new t(n,0,0,i))}},{key:"toArray",value:function(t){var e=new Array(4);return e[0]=t.e11,e[1]=t.e12,e[2]=t.e21,e[3]=t.e22,e}},{key:"toFloat32Array",value:function(t){var e=new Float32Array(4);return e[0]=t.e11,e[1]=t.e12,e[2]=t.e21,e[3]=t.e22,e}}]),t}();Object.defineProperty(u.prototype,"cols",{enumerable:!0,value:2}),Object.defineProperty(u.prototype,"rows",{enumerable:!0,value:2}),n.default=u},{"lodash/isArrayLike":82}],106:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e,n){i(this,t),this.x=void 0!==e?e:0,this.y=void 0!==n?n:0}return r(t,[{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"clone",value:function(){return this.constructor.clone(this)}},{key:"copy",value:function(t){return this.set(t.x,t.y)}},{key:"equals",value:function(t){return this.constructor.equals(this,t)}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"subtract",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"toArray",value:function(){return this.constructor.toArray(this)}},{key:"transform",value:function(t){var e=this.x*t.e11+this.y*t.e12+(t.tx?t.tx:0),n=this.x*t.e21+this.y*t.e22+(t.ty?t.ty:0);
return this.set(e,n)}}],[{key:"add",value:function(e,n){return new t(e.x+n.x,e.y+n.y)}},{key:"clone",value:function(e){return new t(e.x,e.y)}},{key:"equals",value:function(t,e){return t.x===e.x&&t.y===e.y}},{key:"max",value:function(e,n){return new t(Math.max(e.x,n.x),Math.max(e.y,n.y))}},{key:"min",value:function(e,n){return new t(Math.min(e.x,n.x),Math.min(e.y,n.y))}},{key:"multiplyScalar",value:function(e,n){var i=e.x*n,r=e.y*n;return new t(i,r)}},{key:"subtract",value:function(e,n){return new t(e.x-n.x,e.y-n.y)}},{key:"toArray",value:function(t){var e=new Array(2);return e[0]=t.x,e[1]=t.y,e}},{key:"transform",value:function(e,n){var i=e.x*n.e11+e.y*n.e12+(n.tx?n.tx:0),r=e.x*n.e21+e.y*n.e22+(n.ty?n.ty:0);return new t(i,r)}}]),t}();n.default=o},{}],107:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.version=n.Vector2=n.Utils=n.SceneManager=n.Scene=n.Matrix2=n.Math=n.CSSRenderer=n.Camera=n.Animation=void 0;var r=t("./animation"),o=i(r),a=t("./camera"),s=i(a),u=t("./cssRenderer"),c=i(u),l=t("./math/math"),h=i(l),f=t("./math/matrix2"),d=i(f),p=t("./scene"),v=i(p),m=t("./sceneManager"),y=i(m),_=t("./utils"),g=i(_),b=t("./math/vector2"),w=i(b),O=t("./version"),k=i(O);n.Animation=o.default,n.Camera=s.default,n.CSSRenderer=c.default,n.Math=h.default,n.Matrix2=d.default,n.Scene=v.default,n.SceneManager=y.default,n.Utils=g.default,n.Vector2=w.default,n.version=k.default},{"./animation":98,"./camera":100,"./cssRenderer":102,"./math/math":104,"./math/matrix2":105,"./math/vector2":106,"./scene":108,"./sceneManager":109,"./utils":111,"./version":112}],108:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("./utils"),s=i(a),u={AUTO:"auto"},c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";r(this,t),this.view=null,this._width=n,this._height=i,this.setView(e)}return o(t,[{key:"activateView",value:function(){return this.view||(this.view=document.createElement("div")),this.view.style.visibility="hidden",this.view.style.display="block",this}},{key:"destroy",value:function(){return this.removeView(),this.view=null,this}},{key:"removeView",value:function(){return this.view&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this}},{key:"setView",value:function(t){t=s.default.DOM.parseView(t),this.removeView(),this.view=t,this.removeView()}},{key:"width",get:function(){return this._width!==u.AUTO?this._width:this.view?this.view.offsetWidth:0},set:function(t){this._width=t}},{key:"height",get:function(){return this._height!==u.AUTO?this._height:this.view?this.view.offsetHeight:0},set:function(t){this._height=t}}]),t}();n.default=c},{"./utils":111}],109:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("./scene"),s=i(a),u=function(){function t(){r(this,t),this.activeScene=null,this.view=null,this._scenes={}}return o(t,[{key:"add",value:function(t,e){return"string"==typeof e&&(e=new s.default(e)),this._scenes[t]=e,this}},{key:"destroy",value:function(){for(var t in this._scenes)this._scenes[t].destroy();return this.activeScene=null,this.view=null,this._scenes={},this}},{key:"ensureView",value:function(){return this.view||(this.view=document.createElement("div"),this.view.style.position="absolute"),this}},{key:"get",value:function(t){return this._scenes[t]}},{key:"setActiveScene",value:function(t){return this.activeScene&&this.activeScene.removeView(),this.activeScene=this._scenes[t],this.view&&(this.activeScene.activateView(),this.view.appendChild(this.activeScene.view),this.view.style.width=this.activeScene.width+"px",this.view.style.height=this.activeScene.height+"px"),this}}]),t}();n.default=u},{"./scene":108}],110:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("./dragControl"),s=i(a),u=t("./wheelControl"),c=i(u),l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.draggable,o=void 0!==i&&i,a=n.onDrag,u=void 0===a?void 0:a,l=n.onPress,h=void 0===l?void 0:l,f=n.wheelable,d=void 0!==f&&f,p=n.onWheel,v=void 0===p?void 0:p;r(this,t),this.camera=e,this.isDraggable=o===!0,this.dragControl=this.isDraggable?new s.default(this.camera.scenes.view,{dragProxy:this.camera.view,onDrag:u,onDragParams:[this.camera],onPress:h,onPressParams:[this.camera],zIndexBoost:!1}):null,this.isWheelable=d===!0,this.wheelControl=this.isWheelable?new c.default(this.camera.view,{onWheel:v,onWheelParams:[this.camera]}):null}return o(t,[{key:"destroy",value:function(){return this.camera=null,this.isDraggable&&(this.dragControl.destroy(),this.dragControl=null),this.isWheelable&&(this.wheelControl.destroy(),this.wheelControl=null),this}},{key:"disableDrag",value:function(){return this.isDraggable&&this.dragControl.disable(),this}},{key:"enableDrag",value:function(){return this.isDraggable&&this.dragControl.enable(),this}},{key:"disableWheel",value:function(){return this.isWheelable&&this.wheelControl.disable(),this}},{key:"enableWheel",value:function(){return this.isWheelable&&this.wheelControl.enable(),this}},{key:"dragEnabled",get:function(){return!!this.isDraggable&&this.dragControl.enabled}},{key:"wheelEnabled",get:function(){return!!this.isWheelable&&this.wheelControl.enabled}}]),t}();n.default=l},{"./dragControl":103,"./wheelControl":113}],111:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var r=t("lodash/isElement"),o=i(r),a=t("lodash/isFunction"),s=i(a),u=t("lodash/isObject"),c=i(u),l=t("./constants"),h=t("./math/vector2"),f=i(h),d={throttleToFrame:function(t){var e=void 0,n=void 0,i=!1;return function(){e=this,n=arguments,i||(i=!0,window.requestAnimationFrame(function(r){Array.prototype.push.call(n,r),t.apply(e,n),i=!1}))}},parseOrigin:function(t,e,n){var i=l.originKeyword.AUTO,r=d.parsePosition(t,e,n);return null!==r&&(i=r),i},parsePosition:function(t,e,n){var i,r=null;return(0,s.default)(t)&&(t=t()),"string"==typeof t&&(t=e.view.querySelector(t)),(0,o.default)(t)?(i=d.DOM.getObjectWorldPosition(t,e,n),r=new f.default(i.x,i.y)):(0,c.default)(t)&&(r=new f.default(t.x,t.y)),r}};d.DOM={getObjectWorldPosition:function(t,e,n){var i=t.getBoundingClientRect(),r=new f.default(i.left+.5*i.width,i.top+.5*i.height),o=e.view.getBoundingClientRect(),a=new f.default(o.left+.5*o.width,o.top+.5*o.height),s=r.subtract(a).transform(n.getInverse());return s.add(new f.default(.5*e.width,.5*e.height))},parseView:function(t){var e=null;return"string"==typeof t?e=document.querySelector(t):(0,o.default)(t)&&(e=t),e}},d.Time={getFPSDuration:function(t,e){var n=0;switch(e){case"s":n=1e3/t/1e3;break;case"ms":n=1e3/t}return n}},n.default=d},{"./constants":101,"./math/vector2":106,"lodash/isElement":83,"lodash/isFunction":84,"lodash/isObject":87}],112:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i="0.9.0-alpha";n.default=i},{}],113:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("lodash/throttle"),s=i(a),u=t("./utils"),c=i(u),l=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.onWheel,a=void 0===o?function(){}:o,u=i.onWheelParams,l=void 0===u?[]:u,h=i.onWheelScope,f=void 0===h?this:h;r(this,t),this.config={onWheel:a,onWheelParams:l,onWheelScope:f},this.target=c.default.DOM.parseView(e),this.wheelEvent={},this.previousWheelEvent={},this._enabled=!0,this._throttledOnWheel=(0,s.default)(function(t){this.previousWheelEvent=this.wheelEvent,this.wheelEvent=t,this.config.onWheel.apply(this.config.onWheelScope,this.config.onWheelParams)},c.default.Time.getFPSDuration(30,"ms")),this._onWheel=function(t){t.preventDefault(),t.stopPropagation(),n._throttledOnWheel(t)},this.enable()}return o(t,[{key:"destroy",value:function(){return this.disable(),this.config={},this.target=null,this}},{key:"disable",value:function(){return this.target.removeEventListener("wheel",this._onWheel),this._enabled=!1,this}},{key:"enable",value:function(){return this.target.addEventListener("wheel",this._onWheel),this._enabled=!0,this}},{key:"enabled",get:function(){return this._enabled}}]),t}();n.default=l},{"./utils":111,"lodash/throttle":94}]},{},[107])(107)});